function relevantResultsForAllLipidsAndcNCases  ...
    = shortenCorrelationFunctionsForAllLipidsAndNNCases( ...
    relevantResultsForAllLipidsAndcNCases,corrFuncDuration)
    for whichLipid = fieldnames(relevantResultsForAllLipidsAndcNCases)'
        lipidData = relevantResultsForAllLipidsAndcNCases.(whichLipid{1});
        for datasetNr = 1:length(lipidData)
            dataset = lipidData(datasetNr);
            if dataset.simulationDurationInS < corrFuncDuration
                error(['Correlation function duration is longer' ...
                    ' than simulation duration']);
            end
            timeStepsCount = round(corrFuncDuration/dataset.deltaTInS);
            for nNCase = fieldnames(dataset.corrFuncFirstOrder)'
                relevantResultsForAllLipidsAndcNCases.(whichLipid{1})( ...
                    datasetNr).shortenedCorrFuncFirstOrder.(nNCase{1}) =  ...
                    dataset.corrFuncFirstOrder.(nNCase{1})(:,: ...
                    ,1:timeStepsCount);
                relevantResultsForAllLipidsAndcNCases.(whichLipid{1})( ...
                    datasetNr).shortenedCorrFuncSecondOrder.(nNCase{1}) = ...
                    dataset.corrFuncSecondOrder.(nNCase{1})(:,: ...
                    ,1:timeStepsCount);
                relevantResultsForAllLipidsAndcNCases.(whichLipid{1})( ...
                    datasetNr).corrFunctDuration = corrFuncDuration;
            end
        end
    end

end