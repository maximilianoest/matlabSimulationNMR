function r1_theta_phi = calculateR1ForDifferentAngles( ...
    corrFuncFirstOrder_theta_phi, corrFuncSecondOrder_theta_phi ...
    ,omega0,deltaT,dipoleDipoleConstant)

for thetaNr = 1:size(corrFuncFirstOrder_theta_phi,1)
    for phiNr = 1:size(corrFuncFirstOrder_theta_phi,2)
        corrFuncFirstOrder = squeeze(corrFuncFirstOrder_theta_phi( ...
            thetaNr,phiNr,:))';
        corrFuncSecondOrder = squeeze(corrFuncSecondOrder_theta_phi( ...
            thetaNr,phiNr,:))';
        [spectralDensityFirstOrder, spectralDensitySecondOder] = ...
            calculateSpectralDensities(corrFuncFirstOrder ...
            ,corrFuncSecondOrder,omega0,deltaT,size(corrFuncFirstOrder,2));
        r1_theta_phi(thetaNr,phiNr) = calculateR1WithSpectralDensity( ...
            spectralDensityFirstOrder,spectralDensitySecondOder ...
            ,dipoleDipoleConstant); %#ok<AGROW>
    end
end




end
